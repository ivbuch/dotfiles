#! /bin/sh
# If refreshing bspwm, remove all previous rules to prevent doubling up.
bspc rule -r "*"

wmname LG3D
sxhkd 1>/tmp/sxhkd.log 2>&1 &
/my-tools/dotfiles/polybar/bspwm-launch-polybar.sh 
/home/igor/.config/virtual-envs/main/bin/flashfocus &
setxkbmap "us,ru" ",winkeys" "grp:caps_toggle"
udiskie --tray &
compton &

d_0="0-CHATS"
d_1="1-QUTE" d_2="2-ZSH"
d_3="3-IDE"
d_4="4-DB"
d_5="5-FIREFOX"
d_6="6-PYTHON"
d_7="7"
d_8="8"
d_9="9"

bspc monitor --reset-desktops "$d_0" "$d_1" "$d_2" "$d_3" "$d_4" "$d_5" "$d_6" "$d_7" "$d_8" "$d_9"

bspc config border_width 1
bspc config window_gap 30
bspc config top_padding 30
bspc config focus_follows_pointer true

bspc config split_ratio          0.52
bspc config borderless_monocle   true
bspc config gapless_monocle      true

# bspc rule -a Gimp desktop='^8' state=floating follow=on
# bspc rule -a Chromium desktop='^2' focus=on state=floating follow=on
# bspc rule -a mplayer2 state=floating
# bspc rule -a Kupfer.py focus=on
# bspc rule -a Screenkey manage=off
# bspc rule -a Screenkey manage=off

bspc rule -a Zathura state=tiled focus=on follow=on
bspc rule -a "KeePassXC" state=tiled

bspc rule -a "firefox" desktop="$d_5" follow=on focus=on

bspc rule -a "wm_class_firefox_teams" desktop="$d_0" follow=on focus=on
bspc rule -a "wm_class_firefox_whatsapp" desktop="$d_0" follow=on focus=on

bspc rule -a "jetbrains-idea" desktop="$d_3"
bspc rule -a "jetbrains-pycharm-ce" desktop="$d_6"

bspc rule -a "qutebrowser" desktop="$d_1" follow=on focus=on
